<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MDQ</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet"></link>
    <link href="../css/font-awesome.min.css" rel="stylesheet"></link>
    <link href="../css/index.css" rel="stylesheet"></link>
    <link href="../css/tags.css" rel="stylesheet"></link>
    <link href="../css/add-on.css" rel="stylesheet"></link>
    <link href="../css/checkbox.css" rel="stylesheet"></link>
    <link rel="stylesheet" href="http://mbenford.github.io/ngTagsInput/css/ng-tags-input.min.css" />
    <link rel="stylesheet" href="http://mbenford.github.io/ngTagsInput/css/ng-tags-input.bootstrap.min.css">
</head>

<body ng-app="MDQMaps" ng-controller="MapController">
  <div class="container" id="search">
      <div class="input-group">
          <span class="input-group-addon primary" ng-click="menuOpen = !menuOpen"><i class="fa fa-reorder fa-fw"></i></span>
          <tags-input ng-model="selectedItems" display-property="name" add-from-autocomplete-only="true" placeholder="Buscar" on-tag-adding="transformChip($tag)"
            on-tag-added="search($tag)" on-tag-removing="removeChip($tag)" replace-spaces-with-dashes="false">
              <auto-complete minLength="3" source="getAutocomplete($query)"></auto-complete>
          </tags-input>
          <span class="input-group-addon info"><i class="fa fa-search fa-fw"></i></span>
          <span class="input-group-addon default " ng-class="{ 'danger' : hasListItem(selectedItems)}" ng-click="clearList()"><i class="fa fa-remove fa-fw"></i></span>

      </div>
      <section id="panelLocation" ng-show="location.mini.active && !menuOpen" style="margin-left: 3%">
          <form role="form">
              <div class="checkbox checkbox-circle checkbox-primary">
                  <input type="checkbox" id="checkbox1" ng-change="activateGeolocation()" ng-model="location.active">
                  <label for="checkbox1">
                      Radio {{location.radius}} mts.
                  </label>
              </div>
          </form>
      </section>

      <div id="divMenu" ng-show="menuOpen" class="panel panel-default" style="margin-top:2%">
          <!-- GEOLOCATION -->
          <accordion close-others="true">
              <accordion-group>
                  <accordion-heading>
                      <i class='fa fa-map-marker fa-lg'>&nbsp; Ubicaci&oacute;n</i>
                  </accordion-heading>
                  <section id="panelLocation">
                      <form role="form">
                          <div class="checkbox checkbox-circle checkbox-primary">
                              <input type="checkbox" id="checkbox1" ng-change="activateGeolocation()" ng-model="location.active">
                              <label for="checkbox1">
                                  <span ng-show="location.active">Activada</span>
                                  <span ng-show="!location.active">Desactivada</span>
                              </label>
                          </div>
                          <div class="checkbox checkbox-circle checkbox-primary">
                              <input type="checkbox" id="checkbox2" ng-model="location.mini.active">
                              <label for="checkbox2">
                                  <span ng-show="location.mini.active">Ver informaci&oacute;n al cerrar este men&uacute;</span>
                                  <span ng-show="!location.mini.active">No mostrar informaci&oacute;n al cerrar este men&uacute;</span>
                              </label>
                          </div>
                          <div class="input-group">
                              <span class="input-group-addon">Metros</span>
                              <input ng-model="location.radius" type="number" step="100" required ng-change="changeMeters()" class="form-control"></input>
                          </div>
                          <br/>
                          <p>
                              Permite usar la ubicaci&oacute;n provista por el dispositivo o navegador. La b&uacute;squeda se realiza dentro de un c&iacute;rculo,
                              con el radio expresado en metros y con su ubicaci&oacute;n como centro del mismo.
                          </p>
                      </form>
                  </section>
              </accordion-group>
          </accordion>
          <!-- ACERCA DE -->
          <accordion close-others="true">
              <accordion-group>
                  <accordion-heading>
                      <i class='fa fa-info fa-lg'>&nbsp; Acerca de ...</i>
                  </accordion-heading>
                  <section id="panelLocation">
                      Version 0.0.0
                  </section>
              </accordion-group>
          </accordion>
      </div>

  </div>
  <div id="mdqmap">
      <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" class="main ng-isolate-scope angular-google-map" options="map.options" events="map.events">

          <ui-gmap-marker coords="marker.coords" options="marker.options" events="marker.events" idkey="marker.id">
          </ui-gmap-marker>

          <ui-gmap-circle ng-repeat="c in circles track by c.id" center="c.center" stroke="c.stroke" fill="c.fill" radius="c.radius" visible="c.visible" geodesic="c.geodesic" editable="c.editable" draggable="c.draggable" clickable="c.clickable" control="c.control">
          </ui-gmap-circle>
          <span ng-show="location">
              <ui-gmap-marker coords="location.coords" idkey="1">
              </ui-gmap-marker>
          </span>
          <ui-gmap-markers models="markersResult" coords="'self'" icon="'icon'" click="onClick">
              <ui-gmap-windows show="show">
                  <div ng-non-bindable id="markerLabelDiv">
                      <span class="markerLabelTitle">{{item.name}} {{name}}</span>
                      <span class="markerLabelDescription">
                          {{item.description}} {{description}}
                      </span>
                      <span class="markerLabelDescription">
                          Categorias: {{categories}}
                      </span>
                  </div>
              </ui-gmap-windows>
          </ui-gmap-markers>
      </ui-gmap-google-map>
  </div>

    <script src="../js/libs/lodash.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular-bootstrap.min.js" type="text/javascript"></script>
    <script src="../js/angular/ngStorage.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular-simple-logger.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular-google-maps.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular-resource.min.js" type="text/javascript"></script>
    <script src="../js/angular/angular-ui-router.min.js" type="text/javascript"></script>
    <script src="../js/libs/ng-tags-input.js"></script>
    <script src="../js/resources/resources.js" type="text/javascript"></script>
    <script src="../js/controllers/MapController.js" type="text/javascript"></script>
    <script src="../js/controllers/SettingsController.js" type="text/javascript"></script>
    <script src="../js/app.js"></script>
</body>
</html>
